global:
  istio:
    ingressGateway:
      namespace: istio-ingress

subDomain: ververica

encryptedLicense: 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

azure:
  clientId: BAA0/ocXC8PYHvpCs1zxizHSXVEGMcku3CmNnq8y6FR4bvAzTI4sXP+PoscU1n9NjMN2DzueC6EjwZiqtuAPDYrp2JMSwg/+x2aJGjNC5Uf5FLOcQCMKu3674+3G39buuOeWJqEt5COaXyTJe9+Q2v5dUwWJ0OL1R/C5JVqHgWUheA0UCHoDg4JeOuexyy/ku7ugcPBod9XmwFhi3LtxsIlIjg6rAr+KMN/xPxo5DY8YtLHEQKsifxNnVipPgXlz50tbdssNWSXXcRoWSNKOjMycIUR7cHbrVKxsbXTMSs3+H4QN0MOWaeQi0JdJZ5KSbw0GFYXRGSf6wcDhAIpxyk6CFSih7lCE4FNLu5kIKw4HjJCEEWeqYSw0jeuI9vmdIc/KmVcc7bT+v87wYzMKsBV7ufk55A8KZB/7TBjdTODDhY01oWUNk/X7wrM/Vdo2szZ8eyIL+EXyRNsevSx5pqremPWqe9hdFdh9P6j3FsmF45S5uvV0yy/KIf5z4m2j2eFkSIA5liHSswuYtLkBoCt30+GRAdJQQxXhWlEJF/4rU4WRJIRr6JLze6t9mNH/qUhn39jXqnDPSUOf62ucro7Efs2rZXlNIjMsT5Zs9K7ViS8oK1hCVxPuNsCmeEeFxyoTgKTXdMmovJFtORc5QU0rh5wjl8VdyF7vua8WFc0SnQKYMJDXfPQBj507T/Q6CswuHNMs3znZS5P5F8ViY8N95CP3DVXNM6KkAS3euNC2WYX+jbYLRkR3sh2suxNI3pBZqzMuCi4vM06z7ReeYS3tsG9YGymM/b78yzYvIHyXI82Pc78rm3jaIcxunxaro8Jn3BizP2JYY+okgjsS0EyW/2+fBmJXTgW17MkMs4sayRldqPjkFn2liFiLNA7ZWMJzAzwrECPpSsDmoeTSJrUGtjzhvl/BVtWK67eYSj0oEDof2eTMyW0IxCF6HviXlvNu/uEgpHMULHRBtBNqQyEuQWR/tShVI+EFTvdtovZnwSk+F4sWkYKdyrP8+ATCMJg4GxSAO2byYVO3CzBwgL3/oKl65+vYESajuqHTKL7JUx9KOwmoV8pKDqW8dZ4csIeaTnNG74bZysXudRRUxh071MNB2G68xtPuXztUz6g9Xhjhpk3pDPudNnlfy1+g6SWj6Oghqvd3euv7YwuZcg6fjZO7n4AaSc1FCRayApgcTYCmSWY/rxg7cM+jgYRKWR7BVj0BMEe1pLICJdoFJJaOZDOePU3bebbahXv3HKLrKD+CyMwuJG2pB5wyV0NR2nlfNve1jrrU+ZRjP8bqU5Nm4cUub9zOC5agf62fd9ib9gGFnT/JaLFbRXByzjoTEcRQdGpwQ0BhFvOgmaKi0EurngqYWHFLEM/8Ad3NMmNFcHNcQNMsRqEFKBMpt0AObCjuktyqQe8axkpT58yPWMI1z5hIfg==
  clientSecret: BAA+Y7k5tnbwwsOU4/TzMCqhqKZrtBgBj42GUph6URmkaFC91PLbSuBuBSQ47R3IEgXfWYViTZicjAXNLZQGNA/ULWUWwSLyW1cRNixDeDdTTvKo3zAlMG48xYZILm+5moVGElqeASoRyDXflEGeeV3lhzUtIND3x5wXMwnEyoCJQRty+juTDbv1h1CbOQsTlQNdZ6K13I93KpbkOsawTCWzn9d2h8v/c9xnkuuHIMsITcWeXvju7U5YOEmp7MdxvCvgLrs3dFPyXTUlGkWoCH6PDfdfaNDAGcIMHrmn+d8ZvN7hRhHumwkwLD/encdN7Gj9miLp4jl6FNr14zZUua3oXqWnbZjjSVon866+6SNcD/YA0Fsm8mXk3l4hJT8oPLLsaGK75qTEXjWAGaDRn1gLkhEqXLnRHors6N1/NugvU84ctGGX8Rv8OWV0Lb6uBWkv8k89+y4XuJ79/f6ccUxlRzH96kAo2PXXFe8jTSPBxuJC5wkbU5Neg+QoWxuMyJayCsgyixxvgmavJCSUPHBCxTrWnN26zzcRpIMHf99WOtz4MRddFBopIapTuexGXfmsv6ZkvbbsQIrVB1RusrD3DaCTI1NCP+M9SfLvcsPVg8Qaiv1l9/4wbP0hScX7+SxIbRLbvC/ZMWXfBqo4Yei3OZ6qLDEgq2IIavUHmw30nlexZripfizj5lg5uPUQfDe/L7km1NYvem8qmbCBPYSAsUtphA7JggekpNQjC6evRSDXzIH4itQFWSjgPKgVpUaK6nuOPWxNtKSRfJ5Wpjt9SltL1nM5dO+DHbddCbX1w9MA/HGKwCxWuxUyVq/Qtybwp4nf/hZ1PVm6RMsDVuG+sQ3iGMd1w1S78XmiAYzPKZS+EwMNun6M7JTsAq4GRqu8unwuDbpzVbHDD8TesW1/PyIj3qvEqcbpmOEK06jnytoiupn7GprlvqUTEJ4rhq+t3y5VpEWxqQLDubBVYoSi+J7JcLstPHe7UwGrEHNynCmSjm9D+QOVFuSTgVIYre57FOkRpl+fdLFYttBCRFcXR2TFWevFZx/hNTRY+NLhG7qlY7fvMRhsMc1Hg8R0mZDbEH1eS4Rg0iqS1zZLVe3iNh21ZjqGUJ8Y+Ow44cjgEIQxTW12OsZELRqo2L3ZeHRNCq8kfKk55ToD2opLeaW2w9ZlUBSc3f1ECQslsWlzGSUQmUjW9JFK1gH5u0/mjfAp7N5J3V5S0sk42v613XlamycbcBFwhG9VQnC89HgHZGOrUEhJ8xjHV5RVl4DLlOppqqx7ND3V1ZMD84xddRw4TR2tMO0ZWlnXOl+4Zy1o/EUNTJbHbaXvFsC2Ykzi697RVtcR+cNgwjJ4DIMGvpel93zdklyKPNT3czioY3JLfTtczoEEByw014zMswAVskfPcWHhJVKbLlHPt0a2PAGuVPW8nUF/OvY=
  issuerUri: BAAQrFZlh0yqnSi5iQzKTeHu9BsTYQGZAaH2Nk8z8aC477MrUixFzo2qkCdZf6+77hnkZrML9LPF0culSjYVKAKvUYq8YfAdQ898h/+Kbap4FKFbtvDxkYZt51wuCPr4mUC1qx673wohQho4CM0i65m6VnCw+f+qv/yRpnQPhtjAqGEgFkbFEuwUec1c9z8KGM+FEcNpZy5H1nHKx9GgZ6w+25qgXfAFFGiKMMgNtR5OcRizbTRbKtru7z7w7f5arl5aLcvxwgZ089gbANzzGvUBiFY5cIdKiaZWeXXrOTMy2bK7y5rCVCUWMwTQ/CsRFLDFqQI6pxuoQ2wCZBJ5zyl8dIRizvuyudWL8nsG3DLFQGFIucegIimNbfxDhMebk3WvgB0l5+pYm+CHEJkriN4QSgKQscu0UVxOKSxen9+LvDnf5hGXqRuuUbhWxaTLG6BvKOPvO6AYW7RQe4+1p6PDfxkfAxeqNytVWmlb9eXKMWd6YvyuPkQAJ1ptAJIV2v4r2H9A/zvgo0UpI2/ehK90ao4q2vRcl7VxYUIlc+Blu4oGNNHBDu6kEKlh06zoCI9OoGIKVk9OoLJHx4hJpz1MqBQb0zNppj+W5Px/bv71XHvJ4IQ2vgbkZx3bt/xrrNpyZMpUlIENmnvCuSx7omdUN0cuBrqsrYICxSEHXeWM6lnhutNAaG5XDwvas6F8weSrCH/ThqzKnWjamEUpffnm/TEMrpvRTJbL3EFhPOQjhGdsKq78CJ3d72miV+ggoKa7LjvjU6K0QrlTHRCAECtwjUiSrf323s6LI7Ab9sYmNMbBWHRlGZttdMQ2pLkcSu3ssTiw7XnCxLm1mhTJj+O6gAphUnSXurNrXLvQjHHqZCgvjZ3CrdkOTtX9ojhNJUCRY8ri1jpf/w2SsWD74TnikPWXLVLVF0ENHL4NmAKCkc4LF7TRzqOBfSzgZAjlQ0Z92DnnhvTG6SclnHap0fWuodUHUWZuMiOffjWeGx6boFl67skjV+/EH9hynzMOtL5heILAt2StTANVzy+zGT16iA9+DmdLQdpZrEuiEtoDkEZJX7v1Le7xCmFOeQh9JtwB9I+dnh6mvqgCftlw+TtprrkHtHVR6vdD9YlB9W/1WgIOs+d65+rs7jGKP5Dcl3l4ET8yWD33LtadeRp7wx97vNx7aaegeR4zXGrGbjmIIkC+AJSMtrZptyFypMtr82zTI/5OnJhdt9jWOE/QHonvnfxgJu6FxgM80Nh/au6bKLauzK5zm7hyAoCOjq0ImT5UYSjpbjRhAUsXbdwh7Q+58NKhgdsN6Qeju9MyTaNTkC0v0Q1vL+1pGu9l2zLTJqDy0Zy53JfVPsnPlfUMYut6fgBudflQJMOxKrGBJQXj0mZCs1j9koe623TgjAN9rqDxJ1gtPQ9I5Fg2bQNb0TbSlro5goB746gDAlNIveCjE8+9631HE3xE0DasuG5tgWNRvcYjvsyAK35s7w==

ververica-platform:
  vvp:
    auth:
      enabled: true
      admins:
      - user:egor.shevdin@steadforce.com
      - user:christina.lochner@steadforce.com
      oidc:
        groupsClaim: groups
        registrationId: vvp
        registration:
          # clientId: set via environment variable referencing a secret
          # clientSecret: set via environment variable referencing a secret
          redirectUri: "{baseUrl}/{action}/oauth2/code/{registrationId}"
          clientAuthenticationMethod: client_secret_basic
          authorizationGrantType: authorization_code
          scope:
          - openid
          - profile
        provider:
          issuerUri: https://login.microsoftonline.com/412b0ce5-4ceb-4966-9fce-41edeaf161bd/v2.0
          # make sure, spring-boot does not fetch user info
          # see https://github.com/spring-projects/spring-security/issues/7679
          userInfoUri:
          userNameAttribute: preferred_username
    ### Configure VVP to use a local SQLite database
    persistence:
      type: local

    ### Configure Minio for Universal Blob Storage
    blobStorage:
      baseUri: s3://steadops-playground-bucket
      s3:
        endpoint: http://minio.minio.svc.cluster.local:80

    ### Configure some global defaults for Deployments in this instance of Ververica Platform
    globalDeploymentDefaults: |
      spec:
        state: RUNNING
        template:
          spec:
            resources:
              jobmanager:
                cpu: 0.5
                memory: 1G
              taskmanager:
                cpu: 0.5
                memory: 1G
            flinkConfiguration:
              state.backend: filesystem
              taskmanager.memory.managed.fraction: 0.0 # no managed memory needed for filesystem statebackend
              high-availability: kubernetes
              metrics.reporter.prom.class: org.apache.flink.metrics.prometheus.PrometheusReporter
              execution.checkpointing.interval: 10s
              execution.checkpointing.externalized-checkpoint-retention: RETAIN_ON_CANCELLATION

    ### Decrease the JobGraph translation thread pool size. This reduces our worst-case memory
    ### requirements by reducing the number of translations that can happen in parallel.
    ###
    ### See also: https://docs.ververica.com/platform_operations/advanced/sql.html
    sqlService:
      pool:
        coreSize: 1
        maxSize: 1

  env: 
  - name: vvp.auth.oidc.registration.clientId
    valueFrom:
      secretKeyRef:
        name: azure-app-secrets
        key: clientId
  - name: vvp.auth.oidc.registration.clientSecret
    valueFrom:
      secretKeyRef:
        name: azure-app-secrets
        key: clientSecret

  blobStorageCredentials:
    existingSecret: minio-cred-secret-mirror

  ### Allow Ververica Platform to manage Apache Flink deployments in "vvp-jobs" namespace
  rbac:
    additionalNamespaces:
    - ververica-jobs

  ### Reduce gateway container memory requests.
  gateway:
    resources:
      limits:
        memory: 1Gi
      requests:
        memory: 1Gi

  licenseConfigPath: file:/etc/vvp-licenses/license.yaml
  volumes:
    - name: license
      secret:
        secretName: ververica-license
  volumeMounts:
    - name: license
      mountPath: /etc/vvp-licenses/
